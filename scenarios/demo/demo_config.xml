<?xml version="1.0" ?>
<!DOCTYPE config SYSTEM "http://www.matsim.org/files/dtd/config_v2.dtd">
<config>
    <module name="dvrp">
    </module>

    <module name="taxi">
        <param name="destinationKnown" value="false"/>
        <param name="breakIfNotAllRequestsServed" value="false" />
        <param name="vehicleDiversion" value="false"/>
        <param name="pickupDuration" value="120"/>
        <param name="dropoffDuration" value="60"/>
        <param name="onlineVehicleTracker" value="false"/>

        <param name="taxisFile" value="one_taxi.xml"/>
        <!-- param name="taxisFile" value="taxis-50.xml" / -->

        <param name="timeProfiles" value="true"/>
        <param name="detailedStats" value="true"/>

        <!-- This is a rule based dispatch algorithm -->
        <parameterset type="optimizer">
            <param name="type" value="RULE_BASED"/>
            <param name="id" value="example"/>
            <param name="goal" value="DEMAND_SUPPLY_EQUIL"/>
            <param name="nearestRequestsLimit" value="99999"/>
            <param name="nearestVehiclesLimit" value="99999"/>
            <param name="cellSize" value="1000"/>
        </parameterset>

    </module>

    <module name="drt">
		<param name="stopDuration" value="60" />
		<param name="maxWaitTime" value="600" />
		<param name="maxTravelTimeAlpha" value="1.3" />
		<param name="maxTravelTimeBeta" value="400" />
        <param name="requestRejection" value="false" />

		<param name="vehiclesFile" value="one_drt.xml" />
		<!-- param name="vehiclesFile" value="vehicles-20-cap-2.xml" / -->

		<parameterset type="minCostFlowRebalancing">
			<param name="targetAlpha" value="0.5"/>
			<param name="targetBeta" value="0.5"/>
			<param name="cellSize" value="500"/>
		</parameterset>
	</module>

    <module name="network">
        <param name="inputNetworkFile" value="network_demo.xml"/>
        <!-- param name="timeVariantNetwork" value="false" / if timeVariantNetwork -->
        <!-- param name="inputChangeEventsFile" value=""/ if timeVariantNetwork -->
    </module>

    <module name="plans">
        <!-- param name="inputPlansFile" value="plans_only_taxi_1.0.xml.gz" / -->
        <param name="inputPlansFile" value="plans_demo.xml"/>
    </module>

    <module name="qsim">
        <param name="simStarttimeInterpretation" value="onlyUseStarttime"/>
        <param name="endTime" value="30:00:00" />
        <param name="insertingWaitingVehiclesBeforeDrivingVehicles" value="true"/>
        <param name="snapshotStyle" value="queue"/>
    </module>


    <module name="controler">
        <param name="outputDirectory" value="output/example"/>
        <param name="overwriteFiles" value="deleteDirectoryIfExists"/>
        <param name="firstIteration" value="0"/>
        <param name="lastIteration" value="0"/>
    </module>

    <module name="planCalcScore">
        <param name="earlyDeparture" value="-0.0" />
        <param name="lateArrival" value="-18.0" />
        <param name="marginalUtilityOfMoney" value="1.0" />
        <param name="performing" value="6.0" />
        <param name="utilityOfLineSwitch" value="-1.0" />
        <param name="waiting" value="-0.0" />
        <param name="waitingPt" value="0.0" />
        <parameterset type="activityParams" >
            <param name="activityType" value="taxi interaction" />
            <param name="closingTime" value="undefined" />
            <param name="earliestEndTime" value="undefined" />
            <param name="latestStartTime" value="undefined" />
            <param name="minimalDuration" value="undefined" />
            <param name="openingTime" value="undefined" />
            <param name="priority" value="1.0" />
            <param name="scoringThisActivityAtAll" value="false" />
            <param name="typicalDuration" value="undefined" />
            <param name="typicalDurationScoreComputation" value="relative" />
        </parameterset>
        <parameterset type="activityParams" >
            <param name="activityType" value="drt interaction" />
            <param name="closingTime" value="undefined" />
            <param name="earliestEndTime" value="undefined" />
            <param name="latestStartTime" value="undefined" />
            <param name="minimalDuration" value="undefined" />
            <param name="openingTime" value="undefined" />
            <param name="priority" value="1.0" />
            <param name="scoringThisActivityAtAll" value="false" />
            <param name="typicalDuration" value="undefined" />
            <param name="typicalDurationScoreComputation" value="relative" />
        </parameterset>
        <parameterset type="activityParams" >
            <param name="activityType" value="work" />
            <param name="closingTime" value="undefined" />
            <param name="earliestEndTime" value="undefined" />
            <param name="latestStartTime" value="undefined" />
            <param name="minimalDuration" value="undefined" />
            <param name="openingTime" value="undefined" />
            <param name="priority" value="1.0" />
            <param name="scoringThisActivityAtAll" value="true" />
            <!-- typical duration of activity.  needs to be defined and non-zero.  in sec. -->
            <param name="typicalDuration" value="8:00:00" />
            <!-- method to compute score at typical duration.  Options: | uniform | relative | Use uniform for backwards compatibility (all activities same score; higher proba to drop long acts). -->
            <param name="typicalDurationScoreComputation" value="relative" />
        </parameterset>
        <parameterset type="activityParams" >
            <param name="activityType" value="home" />
            <param name="closingTime" value="undefined" />
            <param name="earliestEndTime" value="undefined" />
            <param name="latestStartTime" value="undefined" />
            <param name="minimalDuration" value="undefined" />
            <param name="openingTime" value="undefined" />
            <param name="priority" value="1.0" />
            <param name="scoringThisActivityAtAll" value="true" />
            <param name="typicalDuration" value="00:20:00" />
            <param name="typicalDurationScoreComputation" value="relative" />
        </parameterset>
        <param name="activityType_0" value="dummy"/>
        <param name="activityTypicalDuration_0" value="24:00:00"/>
        <param name="traveling_taxi" value="-6"/>
        <param name="traveling_drt" value="-6" />
    </module>

    <module name="strategy" >
        <parameterset type="strategysettings" >
            <param name="strategyName" value="BestScore" />
            <param name="weight" value="0.70" />
        </parameterset>
        <parameterset type="strategysettings" >
            <param name="strategyName" value="ReRoute" />
            <param name="weight" value="0.05" />
        </parameterset>
        <parameterset type="strategysettings" >
            <param name="strategyName" value="ChangeTripMode" />
            <param name="weight" value="0.25" />
        </parameterset>
        <parameterset type="strategysettings" >
            <param name="strategyName" value="TimeAllocationMutator" />
            <param name="weight" value="0.05" />
        </parameterset>
    </module>
    <module name="changeMode" >
        <param name="modes" value="taxi,drt" />
    </module>
</config>
